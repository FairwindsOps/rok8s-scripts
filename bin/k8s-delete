#!/bin/bash -e

. k8s-read-config

echo "Deleting ConfigMaps"
for CONFIGMAP_FILE in "${CONFIGMAP_FILES[@]}"
do
  kubectl delete -f $CONFIGMAP_FILE --namespace=$NAMESPACE || true
done
echo "Done deleting ConfigMaps"

echo "Deleting Secrets"
for SECRET_FILE in "${SECRET_FILES[@]}"
do
  kubectl delete -f $SECRET_FILE --namespace=$NAMESPACE || true
done
echo "Done deleting Secrets"

echo "Deleting Services"
for SERVICE_FILE in "${SERVICE_FILES[@]}"
do
  kubectl delete -f $SERVICE_FILE --namespace=$NAMESPACE || true
done
echo "Done deleting Services"

echo "Deleting Deployments"
for DEPLOYMENT_FILE in "${DEPLOYMENT_FILES[@]}"
do
  kubectl delete -f $DEPLOYMENT_FILE --namespace=$NAMESPACE || true
done
echo "Done deleting Deployments"
echo ""
